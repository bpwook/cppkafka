<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cppkafka: cppkafka::BasicConsumerDispatcher&lt; ConsumerType &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cppkafka
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>cppkafka</b></li><li class="navelem"><a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html">BasicConsumerDispatcher</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d9/de1/classcppkafka_1_1BasicConsumerDispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cppkafka::BasicConsumerDispatcher&lt; ConsumerType &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper to perform pattern matching when consuming messages.  
 <a href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/d27/consumer__dispatcher_8h_source.html">consumer_dispatcher.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6d/structcppkafka_1_1BasicConsumerDispatcher_1_1EndOfFile.html">EndOfFile</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d73/structcppkafka_1_1BasicConsumerDispatcher_1_1Event.html">Event</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dbd/structcppkafka_1_1BasicConsumerDispatcher_1_1Throttle.html">Throttle</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfd/structcppkafka_1_1BasicConsumerDispatcher_1_1Timeout.html">Timeout</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acd098db34e6350bf04d9d31717b3dda1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html#acd098db34e6350bf04d9d31717b3dda1">BasicConsumerDispatcher</a> (ConsumerType &amp;consumer)</td></tr>
<tr class="separator:acd098db34e6350bf04d9d31717b3dda1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f17ec784f19b8625a15bad0891a6a4"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a27f17ec784f19b8625a15bad0891a6a4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html#a27f17ec784f19b8625a15bad0891a6a4">run</a> (const Args &amp;... args)</td></tr>
<tr class="memdesc:a27f17ec784f19b8625a15bad0891a6a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consumes messages dispatching events to the appropriate callack.  <a href="#a27f17ec784f19b8625a15bad0891a6a4">More...</a><br /></td></tr>
<tr class="separator:a27f17ec784f19b8625a15bad0891a6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a493450ae054878068836c347be4fe8f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html#a493450ae054878068836c347be4fe8f7">stop</a> ()</td></tr>
<tr class="memdesc:a493450ae054878068836c347be4fe8f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops consumption.  <a href="#a493450ae054878068836c347be4fe8f7">More...</a><br /></td></tr>
<tr class="separator:a493450ae054878068836c347be4fe8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename ConsumerType&gt;<br />
class cppkafka::BasicConsumerDispatcher&lt; ConsumerType &gt;</h3>

<p>Helper to perform pattern matching when consuming messages. </p>
<p>As the way to consume messages requires you to:</p>
<ul>
<li>Poll for a message</li>
<li>Check if it's not null</li>
<li>Check if it's an error (optionally handling EOF as a non error)</li>
<li>Process the message</li>
</ul>
<p>This class introduces a pattern matching based approach to consuming messages so the usual loop is simplified away and you can process messages without having to check for all those cases.</p>
<p>When calling <a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html#a27f17ec784f19b8625a15bad0891a6a4" title="Consumes messages dispatching events to the appropriate callack.">BasicConsumerDispatcher::run</a>, a list of callbacks has to be provided. These will handle each case (message, timeout, error, eof), allowing you to only provide what you need. The only callback that is required is the message one. For the rest, the following actions will be performed as defaults:</p>
<ul>
<li><a class="el" href="../../dc/dfd/structcppkafka_1_1BasicConsumerDispatcher_1_1Timeout.html">Timeout</a>: ignore</li>
<li>EOF: ignore</li>
<li><a class="el" href="../../d6/d72/classcppkafka_1_1Error.html">Error</a> (not an EOF error): throw a <a class="el" href="../../db/dd8/classcppkafka_1_1ConsumerException.html">ConsumerException</a> exception</li>
</ul>
<p>The signature for each callback should be as following (or compatible)</p>
<ul>
<li><a class="el" href="../../db/d15/classcppkafka_1_1Message.html" title="Thin wrapper over a rdkafka message handle.">Message</a> callback, either:<ul>
<li>void(Message)</li>
<li>Message(Message). In this case if the message is returned, it will be buffered while calling the throttle callback until the message is actually processed.</li>
</ul>
</li>
<li><a class="el" href="../../dc/dfd/structcppkafka_1_1BasicConsumerDispatcher_1_1Timeout.html">Timeout</a>: void(BasicConsumerDispatcher::Timeout)</li>
<li><a class="el" href="../../d6/d72/classcppkafka_1_1Error.html">Error</a>: void(Error)</li>
<li>EOF: void(BasicConsumerDispatcher::EndOfFile, TopicPartition) </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acd098db34e6350bf04d9d31717b3dda1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd098db34e6350bf04d9d31717b3dda1">&#9670;&nbsp;</a></span>BasicConsumerDispatcher()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConsumerType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html">cppkafka::BasicConsumerDispatcher</a>&lt; ConsumerType &gt;::<a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html">BasicConsumerDispatcher</a> </td>
          <td>(</td>
          <td class="paramtype">ConsumerType &amp;&#160;</td>
          <td class="paramname"><em>consumer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a consumer dispatcher over the given consumer</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">consumer</td><td>The consumer to be used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a27f17ec784f19b8625a15bad0891a6a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27f17ec784f19b8625a15bad0891a6a4">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConsumerType &gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html">cppkafka::BasicConsumerDispatcher</a>&lt; ConsumerType &gt;::run </td>
          <td>(</td>
          <td class="paramtype">const Args &amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consumes messages dispatching events to the appropriate callack. </p>
<p>This will loop until <a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html#a493450ae054878068836c347be4fe8f7" title="Stops consumption.">BasicConsumerDispatcher::stop</a> is called</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>The list of callbacks to be executed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a493450ae054878068836c347be4fe8f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a493450ae054878068836c347be4fe8f7">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConsumerType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../df/db8/classcppkafka_1_1BasicConsumerDispatcher.html">cppkafka::BasicConsumerDispatcher</a>&lt; ConsumerType &gt;::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops consumption. </p>
<p>Note that as this is synchronous, if there's any poll operations currently in progress, then this will stop after the current call returns </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/cppkafka/utils/<a class="el" href="../../d7/d27/consumer__dispatcher_8h_source.html">consumer_dispatcher.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 9 2019 11:20:30 for cppkafka by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
