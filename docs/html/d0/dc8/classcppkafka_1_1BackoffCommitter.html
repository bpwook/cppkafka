<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cppkafka: cppkafka::BackoffCommitter Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cppkafka
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>cppkafka</b></li><li class="navelem"><a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html">BackoffCommitter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d7/df6/classcppkafka_1_1BackoffCommitter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cppkafka::BackoffCommitter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Allows performing synchronous commits that will backoff until successful.  
 <a href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d5/d69/backoff__committer_8h_source.html">backoff_committer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for cppkafka::BackoffCommitter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d0/dc8/classcppkafka_1_1BackoffCommitter.png" usemap="#cppkafka::BackoffCommitter_map" alt=""/>
  <map id="cppkafka::BackoffCommitter_map" name="cppkafka::BackoffCommitter_map">
<area href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html" alt="cppkafka::BackoffPerformer" shape="rect" coords="0,0,169,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac0d113eea6642df47dba740915a8d562"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#ac0d113eea6642df47dba740915a8d562">ErrorCallback</a> = std::function&lt; bool(<a class="el" href="../../d6/d72/classcppkafka_1_1Error.html">Error</a>)&gt;</td></tr>
<tr class="memdesc:ac0d113eea6642df47dba740915a8d562"><td class="mdescLeft">&#160;</td><td class="mdescRight">The error callback.  <a href="#ac0d113eea6642df47dba740915a8d562">More...</a><br /></td></tr>
<tr class="separator:ac0d113eea6642df47dba740915a8d562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classcppkafka_1_1BackoffPerformer"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classcppkafka_1_1BackoffPerformer')"><img src="../../closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html">cppkafka::BackoffPerformer</a></td></tr>
<tr class="memitem:a78120aa22d1f487d2e39e3439a64d2ad inherit pub_types_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#a78120aa22d1f487d2e39e3439a64d2ad">BackoffPolicy</a> { <b>LINEAR</b>, 
<b>EXPONENTIAL</b>
 }</td></tr>
<tr class="separator:a78120aa22d1f487d2e39e3439a64d2ad inherit pub_types_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959b46d08a20a253737d853462b8df8d inherit pub_types_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top"><a id="a959b46d08a20a253737d853462b8df8d"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>TimeUnit</b> = std::chrono::milliseconds</td></tr>
<tr class="separator:a959b46d08a20a253737d853462b8df8d inherit pub_types_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8d43eb92195b96af3ce2e38a0b385d26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#a8d43eb92195b96af3ce2e38a0b385d26">BackoffCommitter</a> (<a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html">Consumer</a> &amp;consumer)</td></tr>
<tr class="memdesc:a8d43eb92195b96af3ce2e38a0b385d26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an instance using default values.  <a href="#a8d43eb92195b96af3ce2e38a0b385d26">More...</a><br /></td></tr>
<tr class="separator:a8d43eb92195b96af3ce2e38a0b385d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a23d807a11d3469222aaf8d027ee43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#ae4a23d807a11d3469222aaf8d027ee43">set_error_callback</a> (<a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#ac0d113eea6642df47dba740915a8d562">ErrorCallback</a> callback)</td></tr>
<tr class="memdesc:ae4a23d807a11d3469222aaf8d027ee43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the error callback.  <a href="#ae4a23d807a11d3469222aaf8d027ee43">More...</a><br /></td></tr>
<tr class="separator:ae4a23d807a11d3469222aaf8d027ee43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed3ac18825c1c6f80be6fc17e12534f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#a1ed3ac18825c1c6f80be6fc17e12534f">commit</a> (const <a class="el" href="../../db/d15/classcppkafka_1_1Message.html">Message</a> &amp;msg)</td></tr>
<tr class="memdesc:a1ed3ac18825c1c6f80be6fc17e12534f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits the given message synchronously.  <a href="#a1ed3ac18825c1c6f80be6fc17e12534f">More...</a><br /></td></tr>
<tr class="separator:a1ed3ac18825c1c6f80be6fc17e12534f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7084f4f51b084568eab0ccc4bf9d32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#a5e7084f4f51b084568eab0ccc4bf9d32">commit</a> (const TopicPartitionList &amp;topic_partitions)</td></tr>
<tr class="memdesc:a5e7084f4f51b084568eab0ccc4bf9d32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits the offsets on the given topic/partitions synchronously.  <a href="#a5e7084f4f51b084568eab0ccc4bf9d32">More...</a><br /></td></tr>
<tr class="separator:a5e7084f4f51b084568eab0ccc4bf9d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898a4b0c470882197666f15f64c70a28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html">Consumer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#a898a4b0c470882197666f15f64c70a28">get_consumer</a> ()</td></tr>
<tr class="memdesc:a898a4b0c470882197666f15f64c70a28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the internal <a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html" title="High level kafka consumer class.">Consumer</a> object.  <a href="#a898a4b0c470882197666f15f64c70a28">More...</a><br /></td></tr>
<tr class="separator:a898a4b0c470882197666f15f64c70a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcppkafka_1_1BackoffPerformer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcppkafka_1_1BackoffPerformer')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html">cppkafka::BackoffPerformer</a></td></tr>
<tr class="memitem:a88dd0be925a5f3ad2992fa8bf5455fb0 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#a88dd0be925a5f3ad2992fa8bf5455fb0">BackoffPerformer</a> ()</td></tr>
<tr class="separator:a88dd0be925a5f3ad2992fa8bf5455fb0 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef681152c72caadefd63965e6b7743b inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#aaef681152c72caadefd63965e6b7743b">set_backoff_policy</a> (<a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#a78120aa22d1f487d2e39e3439a64d2ad">BackoffPolicy</a> policy)</td></tr>
<tr class="memdesc:aaef681152c72caadefd63965e6b7743b inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the backoff policy.  <a href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#aaef681152c72caadefd63965e6b7743b">More...</a><br /></td></tr>
<tr class="separator:aaef681152c72caadefd63965e6b7743b inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c77eed359b55738a90ca1319019341 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#af9c77eed359b55738a90ca1319019341">set_initial_backoff</a> (TimeUnit value)</td></tr>
<tr class="memdesc:af9c77eed359b55738a90ca1319019341 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the initial backoff.  <a href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#af9c77eed359b55738a90ca1319019341">More...</a><br /></td></tr>
<tr class="separator:af9c77eed359b55738a90ca1319019341 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5bf31040be8bd8b836b47c34d25c0e4 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#ac5bf31040be8bd8b836b47c34d25c0e4">set_backoff_step</a> (TimeUnit value)</td></tr>
<tr class="memdesc:ac5bf31040be8bd8b836b47c34d25c0e4 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the backoff step.  <a href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#ac5bf31040be8bd8b836b47c34d25c0e4">More...</a><br /></td></tr>
<tr class="separator:ac5bf31040be8bd8b836b47c34d25c0e4 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58263769fca96e25e115539c6630ef00 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#a58263769fca96e25e115539c6630ef00">set_maximum_backoff</a> (TimeUnit value)</td></tr>
<tr class="memdesc:a58263769fca96e25e115539c6630ef00 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum backoff.  <a href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#a58263769fca96e25e115539c6630ef00">More...</a><br /></td></tr>
<tr class="separator:a58263769fca96e25e115539c6630ef00 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ea137c5b4e47a5a54ed65f7153aa80 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#ab6ea137c5b4e47a5a54ed65f7153aa80">set_maximum_retries</a> (size_t value)</td></tr>
<tr class="memdesc:ab6ea137c5b4e47a5a54ed65f7153aa80 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum number of retries for the commit operation.  <a href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#ab6ea137c5b4e47a5a54ed65f7153aa80">More...</a><br /></td></tr>
<tr class="separator:ab6ea137c5b4e47a5a54ed65f7153aa80 inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805bf1f3e66ab16b183b219baf5cc09f inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memTemplParams" colspan="2">template&lt;typename Functor &gt; </td></tr>
<tr class="memitem:a805bf1f3e66ab16b183b219baf5cc09f inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#a805bf1f3e66ab16b183b219baf5cc09f">perform</a> (const Functor &amp;callback)</td></tr>
<tr class="memdesc:a805bf1f3e66ab16b183b219baf5cc09f inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes an action and backs off if it fails.  <a href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html#a805bf1f3e66ab16b183b219baf5cc09f">More...</a><br /></td></tr>
<tr class="separator:a805bf1f3e66ab16b183b219baf5cc09f inherit pub_methods_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classcppkafka_1_1BackoffPerformer"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classcppkafka_1_1BackoffPerformer')"><img src="../../closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="../../d7/df0/classcppkafka_1_1BackoffPerformer.html">cppkafka::BackoffPerformer</a></td></tr>
<tr class="memitem:a406bda76199e4c3de769a73aa3dc55aa inherit pub_static_attribs_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top"><a id="a406bda76199e4c3de769a73aa3dc55aa"></a>
static const TimeUnit&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_INITIAL_BACKOFF</b> {100}</td></tr>
<tr class="separator:a406bda76199e4c3de769a73aa3dc55aa inherit pub_static_attribs_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7f881d293d64b3d973eba94db6cc67 inherit pub_static_attribs_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top"><a id="afa7f881d293d64b3d973eba94db6cc67"></a>
static const TimeUnit&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_BACKOFF_STEP</b> {50}</td></tr>
<tr class="separator:afa7f881d293d64b3d973eba94db6cc67 inherit pub_static_attribs_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83570f935c3d73091c985410c6add45f inherit pub_static_attribs_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top"><a id="a83570f935c3d73091c985410c6add45f"></a>
static const TimeUnit&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_MAXIMUM_BACKOFF</b> {1000}</td></tr>
<tr class="separator:a83570f935c3d73091c985410c6add45f inherit pub_static_attribs_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7207c439cf6f0f6b5f0e0a48af551a4 inherit pub_static_attribs_classcppkafka_1_1BackoffPerformer"><td class="memItemLeft" align="right" valign="top"><a id="aa7207c439cf6f0f6b5f0e0a48af551a4"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_MAXIMUM_RETRIES</b> {numeric_limits&lt;size_t&gt;::max()}</td></tr>
<tr class="separator:aa7207c439cf6f0f6b5f0e0a48af551a4 inherit pub_static_attribs_classcppkafka_1_1BackoffPerformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Allows performing synchronous commits that will backoff until successful. </p>
<p>This class serves as a simple wrapper around <a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html#a3264cb754415a12d4762bedf64c877da" title="Commits the current partition assignment.">Consumer::commit</a>, allowing to commit messages and topic/partition/offset tuples handling errors and performing a backoff whenever the commit fails.</p>
<p>Both linear and exponential backoff policies are supported, the former one being the default.</p>
<p>Example code on how to use this:</p>
<div class="fragment"><div class="line"><span class="comment">// Create a consumer</span></div><div class="line">Consumer consumer(...);</div><div class="line"></div><div class="line"><span class="comment">// Create a committer using this consumer</span></div><div class="line"><a class="code" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#a8d43eb92195b96af3ce2e38a0b385d26">BackoffCommitter</a> committer(consumer);</div><div class="line"></div><div class="line"><span class="comment">// Set an error callback. This is optional and allows having some feedback </span></div><div class="line"><span class="comment">// when commits fail. If the callback returns false, then this message won&#39;t</span></div><div class="line"><span class="comment">// be committer again.</span></div><div class="line">committer.set_error_callback([](Error error) {</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Error committing: &quot;</span> &lt;&lt; error &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>; </div><div class="line">});</div><div class="line"></div><div class="line"><span class="comment">// Now commit. If there&#39;s an error, this will retry forever</span></div><div class="line">committer.commit(some_message);</div></div><!-- fragment --> </div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ac0d113eea6642df47dba740915a8d562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d113eea6642df47dba740915a8d562">&#9670;&nbsp;</a></span>ErrorCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#ac0d113eea6642df47dba740915a8d562">cppkafka::BackoffCommitter::ErrorCallback</a> =  std::function&lt;bool(<a class="el" href="../../d6/d72/classcppkafka_1_1Error.html">Error</a>)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The error callback. </p>
<p>Whenever an error occurs committing an offset, this callback will be executed using the generated error. While the function returns true, then this is offset will be committed again until it either succeeds or the function returns false. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8d43eb92195b96af3ce2e38a0b385d26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d43eb92195b96af3ce2e38a0b385d26">&#9670;&nbsp;</a></span>BackoffCommitter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cppkafka::BackoffCommitter::BackoffCommitter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html">Consumer</a> &amp;&#160;</td>
          <td class="paramname"><em>consumer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs an instance using default values. </p>
<p>By default, the linear backoff policy is used</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">consumer</td><td>The consumer to use for committing offsets </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1ed3ac18825c1c6f80be6fc17e12534f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed3ac18825c1c6f80be6fc17e12534f">&#9670;&nbsp;</a></span>commit() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppkafka::BackoffCommitter::commit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../db/d15/classcppkafka_1_1Message.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits the given message synchronously. </p>
<p>This will call <a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html#a3264cb754415a12d4762bedf64c877da" title="Commits the current partition assignment.">Consumer::commit</a> until either the message is successfully committed or the error callback returns false (if any is set).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to be committed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e7084f4f51b084568eab0ccc4bf9d32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e7084f4f51b084568eab0ccc4bf9d32">&#9670;&nbsp;</a></span>commit() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppkafka::BackoffCommitter::commit </td>
          <td>(</td>
          <td class="paramtype">const TopicPartitionList &amp;&#160;</td>
          <td class="paramname"><em>topic_partitions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits the offsets on the given topic/partitions synchronously. </p>
<p>This will call <a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html#a3264cb754415a12d4762bedf64c877da" title="Commits the current partition assignment.">Consumer::commit</a> until either the offsets are successfully committed or the error callback returns false (if any is set).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic_partitions</td><td>The topic/partition list to be committed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a898a4b0c470882197666f15f64c70a28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898a4b0c470882197666f15f64c70a28">&#9670;&nbsp;</a></span>get_consumer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html">Consumer</a> &amp; cppkafka::BackoffCommitter::get_consumer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the internal <a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html" title="High level kafka consumer class.">Consumer</a> object. </p>
<dl class="section return"><dt>Returns</dt><dd>A reference to the <a class="el" href="../../d1/d2c/classcppkafka_1_1Consumer.html" title="High level kafka consumer class.">Consumer</a> </dd></dl>

</div>
</div>
<a id="ae4a23d807a11d3469222aaf8d027ee43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4a23d807a11d3469222aaf8d027ee43">&#9670;&nbsp;</a></span>set_error_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppkafka::BackoffCommitter::set_error_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#ac0d113eea6642df47dba740915a8d562">ErrorCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the error callback. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc8/classcppkafka_1_1BackoffCommitter.html#ac0d113eea6642df47dba740915a8d562" title="The error callback.">ErrorCallback</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The callback to be set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/cppkafka/utils/<a class="el" href="../../d5/d69/backoff__committer_8h_source.html">backoff_committer.h</a></li>
<li>src/utils/backoff_committer.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 9 2019 11:20:30 for cppkafka by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
